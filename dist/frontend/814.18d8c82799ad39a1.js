"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[814],{9814:(z,M,a)=>{a.r(M),a.d(M,{AdminModule:()=>X});var g=a(6814),m=a(1430),e=a(5879);let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),t})(),p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-header"]],decls:14,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["routerLink","/admin/users"],["routerLink","/admin/foods"]],template:function(n,o){1&n&&(e.TgZ(0,"html",0)(1,"head"),e._UZ(2,"meta",1)(3,"meta",2),e.TgZ(4,"title"),e._uU(5,"Admin Portal"),e.qZA()(),e.TgZ(6,"body")(7,"header")(8,"h1"),e._uU(9,"Admin Portal"),e.qZA(),e.TgZ(10,"button",3),e._uU(11,"Users"),e.qZA(),e.TgZ(12,"button",4),e._uU(13,"Foods"),e.qZA()()()())},dependencies:[m.rH],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f2f2f2}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem;text-align:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2rem}section[_ngcontent-%COMP%]{width:80%;background-color:#fff;border:1px solid #e0e0e0;border-radius:.7rem;padding:1rem;margin-bottom:2rem}h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}th[_ngcontent-%COMP%]{background-color:#333;color:#fff}button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;border-radius:.3rem;padding:.5rem 1rem;cursor:pointer;margin-right:.5rem}button[_ngcontent-%COMP%]:hover{background-color:#5b391f}.button[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}"]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-footer"]],decls:22,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","/privacy-policy"],["href","/terms-of-service"],["href","/contact-us"]],template:function(n,o){1&n&&(e.TgZ(0,"html",0)(1,"head"),e._UZ(2,"meta",1)(3,"meta",2),e.TgZ(4,"title"),e._uU(5,"Admin Portal"),e.qZA()(),e.TgZ(6,"body"),e._UZ(7,"header")(8,"main"),e.TgZ(9,"footer")(10,"p"),e._uU(11,"\xa9 2023 Admin Portal. All rights reserved."),e.qZA(),e.TgZ(12,"ul")(13,"li")(14,"a",3),e._uU(15,"Privacy Policy"),e.qZA()(),e.TgZ(16,"li")(17,"a",4),e._uU(18,"Terms of Service"),e.qZA()(),e.TgZ(19,"li")(20,"a",5),e._uU(21,"Contact Us"),e.qZA()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f2f2f2;min-height:100vh}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem;text-align:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2rem;min-height:30vh}section[_ngcontent-%COMP%]{width:80%;background-color:#fff;border:1px solid #e0e0e0;border-radius:.7rem;padding:1rem;margin-bottom:2rem}h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}th[_ngcontent-%COMP%]{background-color:#333;color:#fff}button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;border-radius:.3rem;padding:.5rem 1rem;cursor:pointer;margin-right:.5rem}button[_ngcontent-%COMP%]:hover{background-color:#5b391f}.button[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem;text-align:center}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:.5rem}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:1rem}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["id","dashboard"],[1,"overview"]],template:function(n,o){1&n&&(e._UZ(0,"app-admin-header"),e.TgZ(1,"section",0)(2,"h2"),e._uU(3,"Welcome, Admin!"),e.qZA(),e.TgZ(4,"div",1)(5,"p"),e._uU(6,"Total Users: 100"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Total Items: 50"),e.qZA()()())},dependencies:[p],styles:["#dashboard[_ngcontent-%COMP%]{width:100%;background-color:#f2f2f2;padding:2rem;text-align:center}#dashboard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}#dashboard[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}#dashboard[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}#dashboard[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:700}#dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}#dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-home"]],decls:3,vars:0,template:function(n,o){1&n&&e._UZ(0,"app-admin-header")(1,"app-dashboard")(2,"app-footer")},dependencies:[p,F,b]}),t})();var s=a(95);class O{}var P=a(5619),_=a(9397),U=a(9943),f=a(9862),h=a(9229);let w=(()=>{class t{constructor(n,o,r){this.http=n,this.toastrService=o,this.router=r,this.adminSubject=new P.X(new O),this.adminObservable=this.adminSubject.asObservable()}login(n){return this.http.post(U.cN,n).pipe((0,_.b)({next:o=>{this.adminSubject.next(o),this.toastrService.success(`Welcome to Admin Portal ${o.name}`,"Login Successful"),this.router.navigateByUrl("/admin")},error:o=>{this.toastrService.error(o.error,"Login Failed")}}))}isAdmin(){const n=!!this.adminSubject.getValue().name,o=!0===this.adminSubject.getValue().isAdmin;return n&&o}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(f.eN),e.LFG(h._W),e.LFG(m.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,"Should not be empty"),e.qZA())}function J(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,"Email is not correct"),e.qZA())}function S(t,i){if(1&t&&(e.TgZ(0,"div",11),e.YNc(1,y,2,0,"div",12),e.YNc(2,J,2,0,"div",12),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.fc.email.errors.required),e.xp6(1),e.Q6J("ngIf",n.fc.email.errors.email)}}function N(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,"Should not be empty"),e.qZA())}function k(t,i){if(1&t&&(e.TgZ(0,"div",11),e.YNc(1,N,2,0,"div",12),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.fc.password.errors.required)}}let E=(()=>{class t{constructor(n,o,r,d){this.formBuilder=n,this.adminService=o,this.activatedRoute=r,this.router=d,this.isSubmitted=!1,this.returnUrl=""}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[s.kI.required,s.kI.email]],password:["",s.kI.required]}),this.returnUrl=this.activatedRoute.snapshot.queryParams.returnUrl||"/admin"}get fc(){return this.loginForm.controls}submit(){this.isSubmitted=!0,!this.loginForm.invalid&&this.adminService.login({email:this.fc.email.value,password:this.fc.password.value}).subscribe(()=>{this.adminService.isAdmin()?this.router.navigateByUrl("/admin/dashboard"):this.router.navigateByUrl("/home")},n=>{console.error("Login failed:",n)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.qu),e.Y36(w),e.Y36(m.gz),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-login-page"]],decls:21,vars:3,consts:[[1,"container"],[1,"details"],[3,"formGroup","ngSubmit"],[1,"loginAdmin"],["title","Login as Admin"],[1,"input-container"],["type","email","placeholder","Email","formControlName","email"],["class","error-list",4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],[1,"button"],["type","submit"],[1,"error-list"],[4,"ngIf"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"Login as Admin"),e.qZA()(),e.TgZ(6,"div",5)(7,"label"),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"div"),e._UZ(10,"input",6),e.qZA(),e.YNc(11,S,3,2,"div",7),e.qZA(),e.TgZ(12,"div",5)(13,"label"),e._uU(14,"Password"),e.qZA(),e.TgZ(15,"div"),e._UZ(16,"input",8),e.qZA(),e.YNc(17,k,2,1,"div",7),e.qZA(),e.TgZ(18,"div",9)(19,"button",10),e._uU(20,"Login as Admin"),e.qZA()()()()()),2&n&&(e.xp6(2),e.Q6J("formGroup",o.loginForm),e.xp6(9),e.Q6J("ngIf",o.fc.email.errors&&o.isSubmitted),e.xp6(6),e.Q6J("ngIf",o.fc.password.errors&&o.isSubmitted))},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin-top:-2rem}.details[_ngcontent-%COMP%]{width:28rem;margin:auto;padding:1rem;border:1px solid #e0e0e0;border-radius:.7rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.error-list[_ngcontent-%COMP%]{color:red}.register[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginAdmin[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:center;color:brown;font-size:24px;margin-top:.5rem}.button[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;border-radius:.3rem;padding:1rem 2rem;cursor:pointer}"]}),t})();class I{}const c="http://ec2-54-237-219-219.compute-1.amazonaws.com:5000/foods";let L=(()=>{class t{constructor(n,o){this.http=n,this.toastrService=o}updateFood(n){return this.http.put(`${c}/update/${n._id}`,n)}getFoods(){return this.http.get(c).pipe((0,_.b)({next:n=>{},error:n=>{this.toastrService.error(n.error,"Foods fetch failed")}}))}addFood(n){return this.http.post(c,n)}editFood(n){return this.http.put(`${c}/update/${n._id}`,n)}deleteFood(n){return this.http.delete(`${c}/delete/${n}`)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(f.eN),e.LFG(h._W))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=a(1941),C=a(2032),A=a(2296);function Q(t,i){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n)}}function G(t,i){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n)}}function H(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",10),e.YNc(7,Q,2,1,"span",0),e.qZA()(),e.TgZ(8,"td")(9,"div",11),e.YNc(10,G,2,1,"span",0),e.qZA()(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._UZ(16,"img",12),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"button",13),e.NdJ("click",function(){const d=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.editFood(d))}),e._uU(21,"Edit"),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){const d=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.deleteFood(d))}),e._uU(23,"Delete"),e.qZA()()()}if(2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.price),e.xp6(3),e.Q6J("ngForOf",n.origins),e.xp6(3),e.Q6J("ngForOf",n.tags),e.xp6(2),e.Oqu(n.favorite?"Yes":"No"),e.xp6(2),e.Oqu(n.stars),e.xp6(2),e.Q6J("src",n.imageUrl,e.LSH)("alt",n.name),e.xp6(2),e.Oqu(n.cookTime)}}function Y(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Edit Food"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(r){return e.CHM(n),e.oxw().saveFoodChanges(),e.KtG(r.preventDefault())}),e.TgZ(4,"mat-form-field")(5,"mat-label"),e._uU(6,"Name:"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingFood.name=r)}),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10,"Price:"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingFood.price=r)}),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"CookTime:"),e.qZA(),e.TgZ(15,"input",14),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingFood.cookTime=r)}),e.qZA()(),e.TgZ(16,"mat-form-field")(17,"mat-label"),e._uU(18,"Origins:"),e.qZA(),e.TgZ(19,"input",15),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingFood.origins=r)}),e.qZA()(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"ImageUrl:"),e.qZA(),e.TgZ(23,"input",16),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingFood.imageUrl=r)}),e.qZA()(),e.TgZ(24,"mat-form-field")(25,"mat-label"),e._uU(26,"Tags:"),e.qZA(),e.TgZ(27,"input",17),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingFood.tags=r)}),e.qZA()(),e.TgZ(28,"button",9),e._uU(29,"Save Changes"),e.qZA(),e.TgZ(30,"button",18),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.cancelEdit())}),e._uU(31,"Cancel"),e.qZA()()()}if(2&t){const n=e.oxw();e.xp6(7),e.Q6J("ngModel",n.editingFood.name),e.xp6(4),e.Q6J("ngModel",n.editingFood.price),e.xp6(4),e.Q6J("ngModel",n.editingFood.cookTime),e.xp6(4),e.Q6J("ngModel",n.editingFood.origins),e.xp6(4),e.Q6J("ngModel",n.editingFood.imageUrl),e.xp6(4),e.Q6J("ngModel",n.editingFood.tags)}}let T=(()=>{class t{constructor(n){this.foodService=n,this.foods=[],this.newFood={id:"default",name:"",price:0,tags:[],favorite:!1,stars:0,imageUrl:"",origins:[],cookTime:""},this.editingFood=null}ngOnInit(){this.getFoods()}getFoods(){this.foodService.getFoods().subscribe(n=>{this.foods=n,console.log("foods:",n)},n=>{console.error("Error fetching foods:",n)})}addFood(){this.foodService.addFood(this.newFood).subscribe(n=>{this.foods.push(n),this.newFood=new I},n=>{console.error("Error adding food:",n)})}editFood(n){this.editingFood=n?{...n}:null}saveFoodChanges(){this.editingFood&&this.foodService.updateFood(this.editingFood).subscribe(()=>{const n=this.foods.findIndex(o=>o._id===this.editingFood?._id);-1!==n&&this.editingFood&&this.editingFood.id&&(this.foods[n]={...this.editingFood})},n=>{console.error("Error updating food:",n)})}cancelEdit(){}deleteFood(n){this.foodService.deleteFood(n._id).subscribe(()=>{const o=this.foods.findIndex(r=>r._id===n._id);-1!==o&&this.foods.splice(o,1)},o=>{console.error("Error deleting food:",o)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(L))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-foods"]],decls:55,vars:8,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"submit"],["matInput","","type","text","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","name","price","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","origins","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","tags","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","imageUrl","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","cookTime","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],[1,"origins"],[1,"tags"],[1,"food-image",3,"src","alt"],[3,"click"],["matInput","","type","text","name","CookTime",3,"ngModel","ngModelChange"],["matInput","","type","text","name","origins",3,"ngModel","ngModelChange"],["matInput","","type","text","name","imageUrl",3,"ngModel","ngModelChange"],["matInput","","type","text","name","tags",3,"ngModel","ngModelChange"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div")(1,"h2"),e._uU(2,"Existing Foods"),e.qZA(),e.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Price"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Origins"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Tags"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Favorite"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Stars"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Image"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Cook Time"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,H,24,9,"tr",0),e.qZA()(),e.YNc(24,Y,32,6,"div",1),e.qZA(),e.TgZ(25,"div")(26,"h2"),e._uU(27,"Add Food"),e.qZA(),e.TgZ(28,"form",2),e.NdJ("submit",function(){return o.addFood()}),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"Name:"),e.qZA(),e.TgZ(32,"input",3),e.NdJ("ngModelChange",function(d){return o.newFood.name=d}),e.qZA()(),e.TgZ(33,"mat-form-field")(34,"mat-label"),e._uU(35,"Price:"),e.qZA(),e.TgZ(36,"input",4),e.NdJ("ngModelChange",function(d){return o.newFood.price=d}),e.qZA()(),e.TgZ(37,"mat-form-field")(38,"mat-label"),e._uU(39,"Origins:"),e.qZA(),e.TgZ(40,"input",5),e.NdJ("ngModelChange",function(d){return o.newFood.origins=d}),e.qZA()(),e.TgZ(41,"mat-form-field")(42,"mat-label"),e._uU(43,"Tags:"),e.qZA(),e.TgZ(44,"input",6),e.NdJ("ngModelChange",function(d){return o.newFood.tags=d}),e.qZA()(),e.TgZ(45,"mat-form-field")(46,"mat-label"),e._uU(47,"Image URL:"),e.qZA(),e.TgZ(48,"input",7),e.NdJ("ngModelChange",function(d){return o.newFood.imageUrl=d}),e.qZA()(),e.TgZ(49,"mat-form-field")(50,"mat-label"),e._uU(51,"Cook Time:"),e.qZA(),e.TgZ(52,"input",8),e.NdJ("ngModelChange",function(d){return o.newFood.cookTime=d}),e.qZA()(),e.TgZ(53,"button",9),e._uU(54,"Add Food"),e.qZA()()()),2&n&&(e.xp6(23),e.Q6J("ngForOf",o.foods),e.xp6(1),e.Q6J("ngIf",o.editingFood),e.xp6(8),e.Q6J("ngModel",o.newFood.name),e.xp6(4),e.Q6J("ngModel",o.newFood.price),e.xp6(4),e.Q6J("ngModel",o.newFood.origins),e.xp6(4),e.Q6J("ngModel",o.newFood.tags),e.xp6(4),e.Q6J("ngModel",o.newFood.imageUrl),e.xp6(4),e.Q6J("ngModel",o.newFood.cookTime))},dependencies:[g.sg,g.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.F,u.KE,u.hX,C.Nt,A.lW],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:brown;margin-bottom:1rem;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem;justify-content:center;align-items:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid #ddd;justify-content:center;align-items:center}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}td[_ngcontent-%COMP%]{color:#333}form[_ngcontent-%COMP%]{width:80%;margin:0 auto;align-items:center}mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:2rem}button[_ngcontent-%COMP%]{cursor:pointer;background-color:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;margin-right:4px;margin-top:1rem}.food-image[_ngcontent-%COMP%]{max-width:150px;max-height:150px;object-fit:contain}"]}),t})();const Z="http://ec2-54-237-219-219.compute-1.amazonaws.com:5000",$=`${Z}/api/users`;let j=(()=>{class t{constructor(n,o){this.http=n,this.toastrService=o,this.ADMIN_USER_UPDATE_URL=`${Z}/api/users/update/`,this.ADMIN_USER_DELETE_URL=`${Z}/api/admins/delete/`}getUsers(){return this.http.get($).pipe((0,_.b)({next:n=>{},error:n=>{this.toastrService.error(n.error,"Users fetch failed")}}))}updateUser(n){return this.http.put(`${this.ADMIN_USER_UPDATE_URL}/${n._id}`,n)}deleteUser(n){return this.http.delete(`${this.ADMIN_USER_DELETE_URL}/${n}`)}addUser(n){return this.http.post(U.pq,n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(f.eN),e.LFG(h._W))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function R(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",8),e.NdJ("click",function(){const d=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.editUser(d))}),e._uU(9,"Edit"),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){const d=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.deleteUser(d))}),e._uU(11,"Delete"),e.qZA()()()}if(2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Oqu(n.address)}}function K(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Edit User"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.saveUserChanges())}),e.TgZ(4,"mat-form-field")(5,"mat-label"),e._uU(6,"Name:"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingUser.name=r)}),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10,"Email:"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingUser.email=r)}),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Address:"),e.qZA(),e.TgZ(15,"input",6),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.editingUser.address=r)}),e.qZA()(),e.TgZ(16,"button",7),e._uU(17,"Save Changes"),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.cancelEdit())}),e._uU(19,"Cancel"),e.qZA()()()}if(2&t){const n=e.oxw();e.xp6(7),e.Q6J("ngModel",n.editingUser.name),e.xp6(4),e.Q6J("ngModel",n.editingUser.email),e.xp6(4),e.Q6J("ngModel",n.editingUser.address)}}let v=(()=>{class t{constructor(n){this.userService=n,this.users=[],this.newUser={id:"",email:"",name:"",address:"",token:"",isAdmin:!1},this.editingUser=null,console.log(this.userService)}ngOnInit(){this.getUsers()}editUser(n){this.editingUser=n?{...n}:null}saveUserChanges(){this.editingUser&&this.userService.updateUser(this.editingUser).subscribe(()=>{const n=this.users.findIndex(o=>o._id===this.editingUser?._id);this.users[n]={...this.editingUser},this.editingUser=null},n=>{console.error("Error updating user:",n)})}cancelEdit(){this.editingUser=null}deleteUser(n){n._id?this.userService.deleteUser(n._id).subscribe(()=>{this.users=this.users.filter(o=>o._id!==n._id)},o=>{console.error("Error deleting user:",o)}):console.error("Error deleting user: _id is undefined")}getUsers(){this.userService.getUsers().subscribe(n=>{this.users=n},n=>{console.error("Error fetching users:",n)})}addUser(){this.userService.addUser(this.newUser).subscribe(n=>{this.users.push(n),this.newUser={id:"",email:"",name:"",address:"",token:"",isAdmin:!1}},n=>{console.error("Error adding user:",n)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(j))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-users"]],decls:38,vars:6,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"submit"],["matInput","","type","text","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","type","email","name","email","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","address",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],[3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div")(1,"h2"),e._uU(2,"Existing Users"),e.qZA(),e.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Address"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Actions"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,R,12,3,"tr",0),e.qZA()(),e.YNc(16,K,20,3,"div",1),e.qZA(),e.TgZ(17,"h2"),e._uU(18,"Add User"),e.qZA(),e.TgZ(19,"form",2),e.NdJ("submit",function(){return o.addUser()}),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Name:"),e.qZA(),e.TgZ(23,"input",3),e.NdJ("ngModelChange",function(d){return o.newUser.name=d}),e.qZA()(),e.TgZ(24,"mat-form-field")(25,"mat-label"),e._uU(26,"Email:"),e.qZA(),e.TgZ(27,"input",4),e.NdJ("ngModelChange",function(d){return o.newUser.email=d}),e.qZA()(),e.TgZ(28,"mat-form-field")(29,"mat-label"),e._uU(30,"Password:"),e.qZA(),e.TgZ(31,"input",5),e.NdJ("ngModelChange",function(d){return o.newUser.password=d}),e.qZA()(),e.TgZ(32,"mat-form-field")(33,"mat-label"),e._uU(34,"Address:"),e.qZA(),e.TgZ(35,"input",6),e.NdJ("ngModelChange",function(d){return o.newUser.address=d}),e.qZA()(),e.TgZ(36,"button",7),e._uU(37,"Add User"),e.qZA()()),2&n&&(e.xp6(15),e.Q6J("ngForOf",o.users),e.xp6(1),e.Q6J("ngIf",o.editingUser),e.xp6(7),e.Q6J("ngModel",o.newUser.name),e.xp6(4),e.Q6J("ngModel",o.newUser.email),e.xp6(4),e.Q6J("ngModel",o.newUser.password),e.xp6(4),e.Q6J("ngModel",o.newUser.address))},dependencies:[g.sg,g.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,u.KE,u.hX,C.Nt,A.lW],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:brown;margin-bottom:1rem;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem;justify-content:center;align-items:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid #ddd;justify-content:center;align-items:center}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}td[_ngcontent-%COMP%]{color:#333}form[_ngcontent-%COMP%]{width:80%;margin:0 auto;align-items:center}mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:2rem}button[_ngcontent-%COMP%]{margin-top:1rem}button[_ngcontent-%COMP%]{cursor:pointer;background-color:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;margin-right:4px}"]}),t})();const D=[{path:"login",component:E},{path:"",component:x,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"header",component:p},{path:"foods/:id",component:T},{path:"users/:id",component:v},{path:"home",component:q},{path:"dashboard",component:b},{path:"users",component:v},{path:"foods",component:T}]}];let B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(D),m.Bz]}),t})(),X=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,B,s.UX,s.u5,m.Bz,s.u5,s.UX,u.lN,C.c,A.ot]}),t})()}}]);