"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[814],{9814:(X,M,a)=>{a.r(M),a.d(M,{AdminModule:()=>B});var g=a(6814),l=a(1430),e=a(5879);let v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[l.lC],encapsulation:2}),n})(),p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-header"]],decls:14,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["routerLink","/admin/users"],["routerLink","/admin/foods"]],template:function(t,o){1&t&&(e.TgZ(0,"html",0)(1,"head"),e._UZ(2,"meta",1)(3,"meta",2),e.TgZ(4,"title"),e._uU(5,"Admin Portal"),e.qZA()(),e.TgZ(6,"body")(7,"header")(8,"h1"),e._uU(9,"Admin Portal"),e.qZA(),e.TgZ(10,"button",3),e._uU(11,"Users"),e.qZA(),e.TgZ(12,"button",4),e._uU(13,"Foods"),e.qZA()()()())},dependencies:[l.rH],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f2f2f2}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem;text-align:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2rem}section[_ngcontent-%COMP%]{width:80%;background-color:#fff;border:1px solid #e0e0e0;border-radius:.7rem;padding:1rem;margin-bottom:2rem}h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}th[_ngcontent-%COMP%]{background-color:#333;color:#fff}button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;border-radius:.3rem;padding:.5rem 1rem;cursor:pointer;margin-right:.5rem}button[_ngcontent-%COMP%]:hover{background-color:#5b391f}.button[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}"]}),n})(),x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-footer"]],decls:22,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","/privacy-policy"],["href","/terms-of-service"],["href","/contact-us"]],template:function(t,o){1&t&&(e.TgZ(0,"html",0)(1,"head"),e._UZ(2,"meta",1)(3,"meta",2),e.TgZ(4,"title"),e._uU(5,"Admin Portal"),e.qZA()(),e.TgZ(6,"body"),e._UZ(7,"header")(8,"main"),e.TgZ(9,"footer")(10,"p"),e._uU(11,"\xa9 2023 Admin Portal. All rights reserved."),e.qZA(),e.TgZ(12,"ul")(13,"li")(14,"a",3),e._uU(15,"Privacy Policy"),e.qZA()(),e.TgZ(16,"li")(17,"a",4),e._uU(18,"Terms of Service"),e.qZA()(),e.TgZ(19,"li")(20,"a",5),e._uU(21,"Contact Us"),e.qZA()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f2f2f2;min-height:100vh}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem;text-align:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2rem;min-height:30vh}section[_ngcontent-%COMP%]{width:80%;background-color:#fff;border:1px solid #e0e0e0;border-radius:.7rem;padding:1rem;margin-bottom:2rem}h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}th[_ngcontent-%COMP%]{background-color:#333;color:#fff}button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;border-radius:.3rem;padding:.5rem 1rem;cursor:pointer;margin-right:.5rem}button[_ngcontent-%COMP%]:hover{background-color:#5b391f}.button[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem;text-align:center}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:.5rem}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:1rem}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["id","dashboard"],[1,"overview"]],template:function(t,o){1&t&&(e._UZ(0,"app-admin-header"),e.TgZ(1,"section",0)(2,"h2"),e._uU(3,"Welcome, Admin!"),e.qZA(),e.TgZ(4,"div",1)(5,"p"),e._uU(6,"Total Users: 100"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Total Items: 50"),e.qZA()()())},dependencies:[p],styles:["#dashboard[_ngcontent-%COMP%]{width:100%;background-color:#f2f2f2;padding:2rem;text-align:center}#dashboard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}#dashboard[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}#dashboard[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}#dashboard[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:700}#dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}#dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-home"]],decls:3,vars:0,template:function(t,o){1&t&&e._UZ(0,"app-admin-header")(1,"app-dashboard")(2,"app-footer")},dependencies:[p,x,b]}),n})();var s=a(95);class q{}var O=a(5619),_=a(9397),f=a(9943),h=a(9862),C=a(9229);let P=(()=>{class n{constructor(t,o,i){this.http=t,this.toastrService=o,this.router=i,this.adminSubject=new O.X(new q),this.adminObservable=this.adminSubject.asObservable()}login(t){return this.http.post(f.cN,t).pipe((0,_.b)({next:o=>{this.adminSubject.next(o),this.toastrService.success(`Welcome to Admin Portal ${o.name}`,"Login Successful"),this.router.navigateByUrl("/admin")},error:o=>{this.toastrService.error(o.error,"Login Failed")}}))}isAdmin(){const t=!!this.adminSubject.getValue().name,o=!0===this.adminSubject.getValue().isAdmin;return t&&o}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.eN),e.LFG(C._W),e.LFG(l.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Should not be empty"),e.qZA())}function y(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Email is not correct"),e.qZA())}function J(n,r){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,w,2,0,"div",12),e.YNc(2,y,2,0,"div",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.fc.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.fc.email.errors.email)}}function N(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Should not be empty"),e.qZA())}function S(n,r){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,N,2,0,"div",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.fc.password.errors.required)}}let k=(()=>{class n{constructor(t,o,i,d){this.formBuilder=t,this.adminService=o,this.activatedRoute=i,this.router=d,this.isSubmitted=!1,this.returnUrl=""}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[s.kI.required,s.kI.email]],password:["",s.kI.required]}),this.returnUrl=this.activatedRoute.snapshot.queryParams.returnUrl||"/admin"}get fc(){return this.loginForm.controls}submit(){this.isSubmitted=!0,!this.loginForm.invalid&&this.adminService.login({email:this.fc.email.value,password:this.fc.password.value}).subscribe(()=>{this.adminService.isAdmin()?this.router.navigateByUrl("/admin/dashboard"):this.router.navigateByUrl("/home")},t=>{console.error("Login failed:",t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(P),e.Y36(l.gz),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-login-page"]],decls:21,vars:3,consts:[[1,"container"],[1,"details"],[3,"formGroup","ngSubmit"],[1,"loginAdmin"],["title","Login as Admin"],[1,"input-container"],["type","email","placeholder","Email","formControlName","email"],["class","error-list",4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],[1,"button"],["type","submit"],[1,"error-list"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"Login as Admin"),e.qZA()(),e.TgZ(6,"div",5)(7,"label"),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"div"),e._UZ(10,"input",6),e.qZA(),e.YNc(11,J,3,2,"div",7),e.qZA(),e.TgZ(12,"div",5)(13,"label"),e._uU(14,"Password"),e.qZA(),e.TgZ(15,"div"),e._UZ(16,"input",8),e.qZA(),e.YNc(17,S,2,1,"div",7),e.qZA(),e.TgZ(18,"div",9)(19,"button",10),e._uU(20,"Login as Admin"),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.loginForm),e.xp6(9),e.Q6J("ngIf",o.fc.email.errors&&o.isSubmitted),e.xp6(6),e.Q6J("ngIf",o.fc.password.errors&&o.isSubmitted))},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin-top:-2rem}.details[_ngcontent-%COMP%]{width:28rem;margin:auto;padding:1rem;border:1px solid #e0e0e0;border-radius:.7rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.error-list[_ngcontent-%COMP%]{color:red}.register[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginAdmin[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:center;color:brown;font-size:24px;margin-top:.5rem}.button[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;border-radius:.3rem;padding:1rem 2rem;cursor:pointer}"]}),n})();class E{}const u="http://localhost:5000/api/foods";let I=(()=>{class n{updateFood(t){return this.http.put(`${f.tp}/update/${t._id}`,t)}constructor(t,o){this.http=t,this.toastrService=o}getFoods(){return this.http.get(u).pipe((0,_.b)({next:t=>{},error:t=>{this.toastrService.error(t.error,"Foods fetch failed")}}))}addFood(t){return this.http.post(u,t)}editFood(t){return this.http.put(`${u}/update/${t._id}`,t)}deleteFood(t){return this.http.delete(`${u}/delete/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.eN),e.LFG(C._W))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c=a(1941),A=a(2032),Z=a(2296);function L(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t)}}function Q(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t)}}function G(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",10),e.YNc(7,L,2,1,"span",0),e.qZA()(),e.TgZ(8,"td")(9,"div",11),e.YNc(10,Q,2,1,"span",0),e.qZA()(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._UZ(16,"img",12),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"button",13),e.NdJ("click",function(){const d=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.editFood(d))}),e._uU(21,"Edit"),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){const d=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.deleteFood(d))}),e._uU(23,"Delete"),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.price),e.xp6(3),e.Q6J("ngForOf",t.origins),e.xp6(3),e.Q6J("ngForOf",t.tags),e.xp6(2),e.Oqu(t.favorite?"Yes":"No"),e.xp6(2),e.Oqu(t.stars),e.xp6(2),e.Q6J("src",t.imageUrl,e.LSH)("alt",t.name),e.xp6(2),e.Oqu(t.cookTime)}}function H(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Edit Food"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(i){return e.CHM(t),e.oxw().saveFoodChanges(),e.KtG(i.preventDefault())}),e.TgZ(4,"mat-form-field")(5,"mat-label"),e._uU(6,"Name:"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingFood.name=i)}),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10,"Price:"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingFood.price=i)}),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"CookTime:"),e.qZA(),e.TgZ(15,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingFood.cookTime=i)}),e.qZA()(),e.TgZ(16,"mat-form-field")(17,"mat-label"),e._uU(18,"Origins:"),e.qZA(),e.TgZ(19,"input",15),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingFood.origins=i)}),e.qZA()(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"ImageUrl:"),e.qZA(),e.TgZ(23,"input",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingFood.imageUrl=i)}),e.qZA()(),e.TgZ(24,"mat-form-field")(25,"mat-label"),e._uU(26,"Tags:"),e.qZA(),e.TgZ(27,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingFood.tags=i)}),e.qZA()(),e.TgZ(28,"button",9),e._uU(29,"Save Changes"),e.qZA(),e.TgZ(30,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelEdit())}),e._uU(31,"Cancel"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.editingFood.name),e.xp6(4),e.Q6J("ngModel",t.editingFood.price),e.xp6(4),e.Q6J("ngModel",t.editingFood.cookTime),e.xp6(4),e.Q6J("ngModel",t.editingFood.origins),e.xp6(4),e.Q6J("ngModel",t.editingFood.imageUrl),e.xp6(4),e.Q6J("ngModel",t.editingFood.tags)}}let U=(()=>{class n{constructor(t){this.foodService=t,this.foods=[],this.newFood={id:"default",name:"",price:0,tags:[],favorite:!1,stars:0,imageUrl:"",origins:[],cookTime:""},this.editingFood=null}ngOnInit(){this.getFoods()}getFoods(){this.foodService.getFoods().subscribe(t=>{this.foods=t,console.log("foods:",t)},t=>{console.error("Error fetching foods:",t)})}addFood(){this.foodService.addFood(this.newFood).subscribe(t=>{this.foods.push(t),this.newFood=new E},t=>{console.error("Error adding food:",t)})}editFood(t){this.editingFood=t?{...t}:null}saveFoodChanges(){this.editingFood&&this.foodService.updateFood(this.editingFood).subscribe(()=>{const t=this.foods.findIndex(o=>o._id===this.editingFood?._id);-1!==t&&this.editingFood&&this.editingFood.id&&(this.foods[t]={...this.editingFood})},t=>{console.error("Error updating food:",t)})}cancelEdit(){}deleteFood(t){this.foodService.deleteFood(t._id).subscribe(()=>{const o=this.foods.findIndex(i=>i._id===t._id);-1!==o&&this.foods.splice(o,1)},o=>{console.error("Error deleting food:",o)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-foods"]],decls:55,vars:8,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"submit"],["matInput","","type","text","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","name","price","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","origins","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","tags","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","imageUrl","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","cookTime","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],[1,"origins"],[1,"tags"],[1,"food-image",3,"src","alt"],[3,"click"],["matInput","","type","text","name","CookTime",3,"ngModel","ngModelChange"],["matInput","","type","text","name","origins",3,"ngModel","ngModelChange"],["matInput","","type","text","name","imageUrl",3,"ngModel","ngModelChange"],["matInput","","type","text","name","tags",3,"ngModel","ngModelChange"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"h2"),e._uU(2,"Existing Foods"),e.qZA(),e.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Price"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Origins"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Tags"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Favorite"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Stars"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Image"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Cook Time"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,G,24,9,"tr",0),e.qZA()(),e.YNc(24,H,32,6,"div",1),e.qZA(),e.TgZ(25,"div")(26,"h2"),e._uU(27,"Add Food"),e.qZA(),e.TgZ(28,"form",2),e.NdJ("submit",function(){return o.addFood()}),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"Name:"),e.qZA(),e.TgZ(32,"input",3),e.NdJ("ngModelChange",function(d){return o.newFood.name=d}),e.qZA()(),e.TgZ(33,"mat-form-field")(34,"mat-label"),e._uU(35,"Price:"),e.qZA(),e.TgZ(36,"input",4),e.NdJ("ngModelChange",function(d){return o.newFood.price=d}),e.qZA()(),e.TgZ(37,"mat-form-field")(38,"mat-label"),e._uU(39,"Origins:"),e.qZA(),e.TgZ(40,"input",5),e.NdJ("ngModelChange",function(d){return o.newFood.origins=d}),e.qZA()(),e.TgZ(41,"mat-form-field")(42,"mat-label"),e._uU(43,"Tags:"),e.qZA(),e.TgZ(44,"input",6),e.NdJ("ngModelChange",function(d){return o.newFood.tags=d}),e.qZA()(),e.TgZ(45,"mat-form-field")(46,"mat-label"),e._uU(47,"Image URL:"),e.qZA(),e.TgZ(48,"input",7),e.NdJ("ngModelChange",function(d){return o.newFood.imageUrl=d}),e.qZA()(),e.TgZ(49,"mat-form-field")(50,"mat-label"),e._uU(51,"Cook Time:"),e.qZA(),e.TgZ(52,"input",8),e.NdJ("ngModelChange",function(d){return o.newFood.cookTime=d}),e.qZA()(),e.TgZ(53,"button",9),e._uU(54,"Add Food"),e.qZA()()()),2&t&&(e.xp6(23),e.Q6J("ngForOf",o.foods),e.xp6(1),e.Q6J("ngIf",o.editingFood),e.xp6(8),e.Q6J("ngModel",o.newFood.name),e.xp6(4),e.Q6J("ngModel",o.newFood.price),e.xp6(4),e.Q6J("ngModel",o.newFood.origins),e.xp6(4),e.Q6J("ngModel",o.newFood.tags),e.xp6(4),e.Q6J("ngModel",o.newFood.imageUrl),e.xp6(4),e.Q6J("ngModel",o.newFood.cookTime))},dependencies:[g.sg,g.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.F,c.KE,c.hX,A.Nt,Z.lW],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:brown;margin-bottom:1rem;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem;justify-content:center;align-items:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid #ddd;justify-content:center;align-items:center}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}td[_ngcontent-%COMP%]{color:#333}form[_ngcontent-%COMP%]{width:80%;margin:0 auto;align-items:center}mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:2rem}button[_ngcontent-%COMP%]{cursor:pointer;background-color:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;margin-right:4px;margin-top:1rem}.food-image[_ngcontent-%COMP%]{max-width:150px;max-height:150px;object-fit:contain}"]}),n})(),$=(()=>{class n{constructor(t,o){this.http=t,this.toastrService=o,this.ADMIN_USER_UPDATE_URL="http://localhost:5000/api/users/update/",this.ADMIN_USER_DELETE_URL="http://localhost:5000/api/admins/delete/"}getUsers(){return this.http.get("http://localhost:5000/api/users").pipe((0,_.b)({next:t=>{},error:t=>{this.toastrService.error(t.error,"Users fetch failed")}}))}updateUser(t){return this.http.put(`${this.ADMIN_USER_UPDATE_URL}/${t._id}`,t)}deleteUser(t){return this.http.delete(`${this.ADMIN_USER_DELETE_URL}/${t}`)}addUser(t){return this.http.post(f.pq,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.eN),e.LFG(C._W))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",8),e.NdJ("click",function(){const d=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.editUser(d))}),e._uU(9,"Edit"),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){const d=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.deleteUser(d))}),e._uU(11,"Delete"),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.address)}}function K(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Edit User"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveUserChanges())}),e.TgZ(4,"mat-form-field")(5,"mat-label"),e._uU(6,"Name:"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingUser.name=i)}),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10,"Email:"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingUser.email=i)}),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Address:"),e.qZA(),e.TgZ(15,"input",6),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.editingUser.address=i)}),e.qZA()(),e.TgZ(16,"button",7),e._uU(17,"Save Changes"),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelEdit())}),e._uU(19,"Cancel"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.editingUser.name),e.xp6(4),e.Q6J("ngModel",t.editingUser.email),e.xp6(4),e.Q6J("ngModel",t.editingUser.address)}}let T=(()=>{class n{constructor(t){this.userService=t,this.users=[],this.newUser={id:"",email:"",name:"",address:"",token:"",isAdmin:!1},this.editingUser=null,console.log(this.userService)}ngOnInit(){this.getUsers()}editUser(t){this.editingUser=t?{...t}:null}saveUserChanges(){this.editingUser&&this.userService.updateUser(this.editingUser).subscribe(()=>{const t=this.users.findIndex(o=>o._id===this.editingUser?._id);this.users[t]={...this.editingUser},this.editingUser=null},t=>{console.error("Error updating user:",t)})}cancelEdit(){this.editingUser=null}deleteUser(t){t._id?this.userService.deleteUser(t._id).subscribe(()=>{this.users=this.users.filter(o=>o._id!==t._id)},o=>{console.error("Error deleting user:",o)}):console.error("Error deleting user: _id is undefined")}getUsers(){this.userService.getUsers().subscribe(t=>{this.users=t},t=>{console.error("Error fetching users:",t)})}addUser(){this.userService.addUser(this.newUser).subscribe(t=>{this.users.push(t),this.newUser={id:"",email:"",name:"",address:"",token:"",isAdmin:!1}},t=>{console.error("Error adding user:",t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-users"]],decls:38,vars:6,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"submit"],["matInput","","type","text","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","type","email","name","email","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","address",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],[3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"h2"),e._uU(2,"Existing Users"),e.qZA(),e.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Address"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Actions"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,j,12,3,"tr",0),e.qZA()(),e.YNc(16,K,20,3,"div",1),e.qZA(),e.TgZ(17,"h2"),e._uU(18,"Add User"),e.qZA(),e.TgZ(19,"form",2),e.NdJ("submit",function(){return o.addUser()}),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Name:"),e.qZA(),e.TgZ(23,"input",3),e.NdJ("ngModelChange",function(d){return o.newUser.name=d}),e.qZA()(),e.TgZ(24,"mat-form-field")(25,"mat-label"),e._uU(26,"Email:"),e.qZA(),e.TgZ(27,"input",4),e.NdJ("ngModelChange",function(d){return o.newUser.email=d}),e.qZA()(),e.TgZ(28,"mat-form-field")(29,"mat-label"),e._uU(30,"Password:"),e.qZA(),e.TgZ(31,"input",5),e.NdJ("ngModelChange",function(d){return o.newUser.password=d}),e.qZA()(),e.TgZ(32,"mat-form-field")(33,"mat-label"),e._uU(34,"Address:"),e.qZA(),e.TgZ(35,"input",6),e.NdJ("ngModelChange",function(d){return o.newUser.address=d}),e.qZA()(),e.TgZ(36,"button",7),e._uU(37,"Add User"),e.qZA()()),2&t&&(e.xp6(15),e.Q6J("ngForOf",o.users),e.xp6(1),e.Q6J("ngIf",o.editingUser),e.xp6(7),e.Q6J("ngModel",o.newUser.name),e.xp6(4),e.Q6J("ngModel",o.newUser.email),e.xp6(4),e.Q6J("ngModel",o.newUser.password),e.xp6(4),e.Q6J("ngModel",o.newUser.address))},dependencies:[g.sg,g.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,c.KE,c.hX,A.Nt,Z.lW],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:brown;margin-bottom:1rem;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem;justify-content:center;align-items:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid #ddd;justify-content:center;align-items:center}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}td[_ngcontent-%COMP%]{color:#333}form[_ngcontent-%COMP%]{width:80%;margin:0 auto;align-items:center}mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:2rem}button[_ngcontent-%COMP%]{margin-top:1rem}button[_ngcontent-%COMP%]{cursor:pointer;background-color:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;margin-right:4px}"]}),n})();const R=[{path:"login",component:k},{path:"",component:v,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"header",component:p},{path:"foods/:id",component:U},{path:"users/:id",component:T},{path:"home",component:F},{path:"dashboard",component:b},{path:"users",component:T},{path:"foods",component:U}]}];let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(R),l.Bz]}),n})(),B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,D,s.UX,s.u5,l.Bz,s.u5,s.UX,c.lN,A.c,Z.ot]}),n})()}}]);